define("launchpad/lib/ui/aria",["angular","launchpad/lib/ui/ui-module"],function(e,f){f.directive("lpAriaNumber",function(){return{restrict:"A",link:function(d,a,b){d=d.$eval(b.lpAriaNumber);a.attr("aria-hidden",!0);a.text(d);d=e.element('\x3cspan class\x3d"sr-only"\x3e'+(d?d.split("").join(" "):"")+"\x3c/span\x3e");a.after(d)}}});f.filter("lpAriaNumber",function(){return function(d){return d?d.split("").join(" "):""}})});define("launchpad/lib/ui/focus",["angular","launchpad/lib/ui/ui-module"],function(e,f){f.directive("lpFocusOn",["$interpolate",function(d){return{restrict:"A",link:function(a,b,c){c=d(c.lpFocusOn)(a);a.$on(c,function(){setTimeout(function(){b[0].focus();"INPUT"===b[0].tagName&&b[0].select()},50)})}}}]);"autofocus"in document.createElement("input")||f.directive("autofocus",function(){return{restrict:"A",link:function(d,a){setTimeout(function(){a[0].focus()},100)}}})});define("launchpad/lib/ui/input-overflow",["angular","jquery","launchpad/lib/ui/ui-module"],function(e,f,d){d.directive("lpInputOverflow",[function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,g){var h,l;c=function(){"block"===h.css("display")&&(h.hide(),b.focus())};b.wrap("\x3cdiv class\x3d'lp-input-overflow'\x3e\x3c/div\x3e");a=f(document.createElement("span"));a.text("...");a.addClass("lp-input-overflow-elipsis");h=f(document.createElement("div"));h.addClass("lp-input-overflow-indicator");
h.append(a);b.after(h);l=f(document.createElement("span"));l.addClass("lp-input-overflow-input-text");l.text(g.$modelValue);l.css("font-size",b.css("font-size"));b.after(l);b.on("blur",function(){l.text(g.$modelValue);var a=l.width(),c=b.width();a>c?h.show():h.hide()});b.on("click",c);b.on("focus",c);h.on("click",c)}}}])});(function(e){"function"===typeof define&&define.amd?define("launchpad/lib/ui/jquery.autosuggest",["jquery"],e):e(jQuery)})(function(e){function f(a,b){var c=function(){},c={autoSelectFirst:!1,circularSelect:!0,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:f.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:c,onSearchComplete:c,onClear:c,containerClass:"lp-autosuggest-suggestions",tabDisabled:!0,
dataType:"text",currentRequest:null,paramName:"query",transformResult:function(a){return"string"===typeof a?e.parseJSON(a):a}};this.element=a;this.el=e(a);this.suggestions=[];this.badQueries=[];this.selectedIndex=-1;this.currentValue=this.element.value;this.intervalId=0;this.cachedResponse=[];this.onChange=this.onChangeInterval=null;this.isLocal=!1;this.suggestionsContainer=null;this.options=e.extend({},c,b);this.classes={selected:"lp-autosuggest-selected",suggestion:"lp-autosuggest-suggestion"};
this.hint=null;this.hintValue="";this.selection=null;this.initialize();this.setOptions(b)}var d=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26")},createNode:function(a){var b=document.createElement("div");b.innerHTML=a;return b.firstChild}}}();f.utils=d;e.Autocomplete=f;f.formatResult=function(a,b){var c="("+d.escapeRegExChars(b)+")";return a.value.replace(RegExp(c,"gi"),"\x3cstrong\x3e$1\x3c/strong\x3e")};f.prototype={killerFn:null,
initialize:function(){var a=this,b="."+a.classes.suggestion,c=a.classes.selected,g=a.options,h;a.element.setAttribute("autosuggest","off");a.element.setAttribute("aria-autocomplete","list");a.killerFn=function(c){0!==e(c.target).closest("."+a.options.containerClass).length||a.el.is(":focus")||(a.killSuggestions(),a.disableKillerFn())};a.suggestionsContainer=f.utils.createNode('\x3cdiv class\x3d"'+g.containerClass+'" style\x3d"position: absolute; display: none;"\x3e\x3c/div\x3e');h=e(a.suggestionsContainer);
h.appendTo(g.appendTo);"auto"!==g.width&&h.width(g.width);h.on("mouseover.autosuggest",b,function(){a.activate(e(this).data("index"))});h.on("mouseout.autosuggest",function(){a.selectedIndex=-1;h.children("."+c).removeClass(c)});h.on("click.autosuggest",b,function(){a.select(e(this).data("index"))});a.fixPosition();a.fixPositionCapture=function(){a.visible&&a.fixPosition()};e(window).on("resize",a.fixPositionCapture);a.el.on("keydown.autosuggest",function(c){a.onKeyPress(c)});a.el.on("keyup.autosuggest",
function(c){a.onKeyUp(c)});a.el.on("blur.autosuggest",function(c){a.killerFn(c)});a.el.on("focus.autosuggest",function(){a.onFocus()});a.el.on("change.autosuggest",function(c){a.onKeyUp(c)});a.el.on("toggle.autosuggest",function(c){a.onToggle(c)})},onToggle:function(){this.visible?this.el.blur():this.el.focus()},onBlur:function(){this.enableKillerFn()},setOptions:function(a){var b=this.options;e.extend(b,a);if(this.isLocal=e.isArray(b.lookup))b.lookup=this.verifySuggestionsFormat(b.lookup);e(this.suggestionsContainer).css({"max-height":b.maxHeight+
"px",width:b.width+"px","z-index":b.zIndex})},clearCache:function(){this.cachedResponse=[];this.badQueries=[]},clear:function(){this.clearCache();this.currentValue="";this.suggestions=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var a;"body"===this.options.appendTo&&(a=this.el.offset(),e(this.suggestionsContainer).css({top:a.top+this.el.outerHeight()+"px",left:a.left+"px"}))},enableKillerFn:function(){e(document).on("click.autosuggest",this.killerFn)},
disableKillerFn:function(){e(document).off("click.autosuggest",this.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions();a.intervalId=window.setInterval(function(){a.hide();a.stopKillSuggestions()},100)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a=this.el.val().length,b=this.element.selectionStart;return"number"===typeof b?b===a:document.selection?(b=document.selection.createRange(),b.moveStart("character",-a),a===b.text.length):
!0},onKeyPress:function(a){if(!this.disabled&&!this.visible&&40===a.which&&this.currentValue)this.suggest();else if(!this.disabled&&this.visible){switch(a.which){case 27:this.el.val("");this.hide();this.options.onClear.call(this.element);break;case 39:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case 9:if(this.hint&&this.options.onHint){this.selectHint();return}case 13:if(-1===this.selectedIndex){this.hide();return}this.select(this.selectedIndex);if(9===
a.which&&!1===this.options.tabDisabled)return;break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}a.stopImmediatePropagation();a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled&&38!==a.which&&40!==a.which&&(clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()))if(b.findBestHint(),0<b.options.deferRequestBy)b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy);else b.onValueChange()},onFocus:function(){this.currentValue=
this.el.val();this.fixPosition();this.getSuggestions("","focus")},onValueChange:function(){var a;this.selection&&(this.selection=null,(this.options.onInvalidateSelection||e.noop)());clearInterval(this.onChangeInterval);(this.currentValue=this.el.val())||this.options.onClear.call(this.element);a=this.getQuery(this.currentValue);this.selectedIndex=-1;a.length<this.options.minChars?this.hide():this.getSuggestions(a,"change")},getQuery:function(a){var b=this.options.delimiter;if(!b)return e.trim(a);a=
a.split(b);return e.trim(a[a.length-1])},getSuggestionsLocal:function(a){return{suggestions:this.options.lookup.call(this.element,a)}},getSuggestions:function(a,b){var c=this.options;if(this.cachedResponse[a])this.suggestions=this.cachedResponse[a],this.suggest();else if(!this.isBadQuery(a)&&(c.params[c.paramName]=a,!1!==c.onSearchStart.call(this.element,c.params))){var g=this.getSuggestionsLocal(a);this.processResponse(g,a,b);c.onSearchComplete.call(this.element,a)}},isBadQuery:function(a){for(var b=
this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){this.visible=!1;this.selectedIndex=-1;e(this.suggestionsContainer).hide();this.signalHint(null)},suggest:function(){if(0===this.suggestions.length)this.hide();else{var a=this.options.formatResult,b=this.getQuery(this.currentValue),c=this.classes.suggestion,g=this.classes.selected,h=e(this.suggestionsContainer),l="",d;e.each(this.suggestions,function(g,h){l+='\x3cdiv class\x3d"'+c+'" data-index\x3d"'+g+'" role\x3d"option"\x3e'+
a(h,b)+"\x3c/div\x3e"});"auto"===this.options.width&&(d=this.el.outerWidth()-2,h.width(0<d?d:300));h.html(l).show();this.visible=!0;this.options.autoSelectFirst&&(this.selectedIndex=0,h.children().first().addClass(g));this.findBestHint()}},findBestHint:function(){var a=this.el.val().toLowerCase(),b=null;a&&(e.each(this.suggestions,function(c,g){var h=g.value.toLowerCase&&0===g.value.toLowerCase().indexOf(a);h&&(b=g);return!h}),this.signalHint(b))},signalHint:function(a){var b="";a&&(b=this.currentValue+
a.value.substr(this.currentValue.length));this.hintValue!==b&&(this.hintValue=b,this.hint=a,(this.options.onHint||e.noop)(b))},verifySuggestionsFormat:function(a){return a.length&&"string"===typeof a[0]?e.map(a,function(a){return{value:a,data:null}}):a},processResponse:function(a,b,c){var g=this.options;a=g.transformResult(a,b);a.suggestions=this.verifySuggestionsFormat(a.suggestions);g.noCache||(this.cachedResponse[a[g.paramName]]=a,0===a.suggestions.length&&this.badQueries.push(a[g.paramName]));
if(b===this.getQuery(this.currentValue)||"focus"===c)this.suggestions=a.suggestions,this.suggest()},activate:function(a){var b=this.classes.selected,c=e(this.suggestionsContainer),g=c.children();c.children("."+b).removeClass(b);this.selectedIndex=a;return-1!==this.selectedIndex&&g.length>this.selectedIndex?(a=g.get(this.selectedIndex),e(a).addClass(b),a):null},selectHint:function(){var a=e.inArray(this.hint,this.suggestions);this.select(a)},select:function(a){this.hide();this.onSelect(a)},moveUp:function(){if(-1!==
this.selectedIndex){var a;if(0===this.selectedIndex)if(this.options.circularSelect)a=this.suggestions.length-1;else{e(this.suggestionsContainer).children().first().removeClass(this.classes.selected);this.selectedIndex=-1;this.el.val(this.currentValue);this.el.trigger("input");this.findBestHint();return}else a=-1;this.adjustScroll(this.selectedIndex+a)}},moveDown:function(){var a;if(this.selectedIndex===this.suggestions.length-1)if(this.options.circularSelect)a=-1*(this.suggestions.length-1);else return;
else a=1;this.adjustScroll(this.selectedIndex+a)},adjustScroll:function(a){var b=this.activate(a),c,g;b&&(b=b.offsetTop,c=e(this.suggestionsContainer).scrollTop(),g=c+this.options.maxHeight-75,b<c?e(this.suggestionsContainer).scrollTop(b):b>g&&e(this.suggestionsContainer).scrollTop(b-this.options.maxHeight+75),this.el.val(this.getValue(this.suggestions[a].value)),this.el.trigger("input"),this.signalHint(null))},onSelect:function(a){var b=this.options.onSelect;a=this.suggestions[a];var c=!0;this.currentValue=
this.getValue(a.value);this.signalHint(null);this.suggestions=[];this.selection=a;e.isFunction(b)&&!1===b.call(this.element,a)&&(c=!1);c&&(this.el.val(this.currentValue),this.el.trigger("input"))},getValue:function(a){var b=this.options.delimiter,c;if(!b)return a;c=this.currentValue;b=c.split(b);return 1===b.length?a:c.substr(0,c.length-b[b.length-1].length)+a},dispose:function(){this.el.off(".autosuggest").removeData("autosuggest");this.disableKillerFn();e(window).off("resize",this.fixPositionCapture);
e(this.suggestionsContainer).remove()}};e.fn.autosuggest=function(a,b){return 0===arguments.length?this.first().data("autosuggest"):this.each(function(){var c=e(this),g=c.data("autosuggest");if("string"===typeof a){if(g&&"function"===typeof g[a])g[a](b)}else g&&g.dispose&&g.dispose(),g=new f(this,a),c.data("autosuggest",g)})}});require(["jquery","launchpad/support/transitn/transitn"],function(e,f){(window.lp||{}).anim={_restore:function(d,a,b){var c=e(".lp-springboard-tile-title",d),g=e(".lp-springboard-tile-icon",d);a.addClass("lp-animating");d.addClass("lp-springboard-widget-live");var h=new f({element:a[0],duration:".3s",to:{left:b.left,top:b.top,width:b.width,height:b.height},timingFunction:"ease-in-out"});h.on("transitionend",function(){d.removeClass("lp-springboard-widget-maximized");a.removeClass("lp-springboard-area-maximized lp-animating").css({zIndex:1});
b.small&&a.addClass("lp-springboard-smallcell")});h.start();(new f({element:g[0],duration:".3s",isCleaning:!0,from:{fontSize:"70px",lineHeight:"70px"},timingFunction:"ease-in-out"})).start();(new f({element:c[0],duration:".3s",isCleaning:!0,from:{fontSize:"15px",lineHeight:"1.42857"},timingFunction:"ease-in-out"})).start()},_maximize:function(d,a){var b=jQuery(".lp-springboard-tile-title",d),c=jQuery(".lp-springboard-tile-icon",d);a.addClass("lp-animating").css({zIndex:2});var g=new f({element:a[0],
duration:".4s",to:{left:0,top:0,width:"100%",height:"100%"},timingFunction:"ease-in-out"});g.on("transitionend",function(){d.addClass("lp-springboard-widget-maximized");a.addClass("lp-springboard-area-maximized").removeClass("lp-springboard-smallcell lp-animating").css({zIndex:2})});g.start();(new f({element:c[0],duration:".4s",isCleaning:!0,to:{fontSize:"200px",lineHeight:"200px"},timingFunction:"ease-in-out"})).start();(new f({element:b[0],duration:".4s",isCleaning:!0,to:{fontSize:"36px",lineHeight:"36px"},
timingFunction:"ease-in-out"})).start()},_transition:function(d){var a=new f({element:d.element,duration:d.duration||".3s",timingFunction:d.timing||"ease-in-out",isCleaning:d.isCleaning||!0,from:d.from||null,to:d.to||null});a.on("transitionend",function(a,c,g){d.callback&&d.callback()});a.start()}}});define("launchpad/lib/ui/lp-field",["angular","launchpad/lib/common/util","launchpad/lib/ui/ui-module"],function(e,f,d){var a=f.getContextPath()+"/static/launchpad/lib/ui/templates/";d.value("defaultErrorMessages",{required:"This field is required."});d.controller("FieldController",["$scope","$attrs","$parse","defaultErrorMessages",function(a,c,g,h){var l=this,d;a.errors=[];var m=e.isDefined(c.errorMessages)?e.copy(a.$parent.$eval(c.errorMessages)):{},m=e.extend({},h,m);c.errors&&(c=g(c.errors),d=
c.assign,a.$parent.$watch(c,function(c){a.errors=c;a.setErrorMessages()},!0),a.$watch("errors",function(c){d&&d(a.$parent,c)}));a.setErrorMessages=function(){var c=[];if(a.errors)for(var g=0,h=a.errors.length;g<h;g++)c.push(l.getErrorMessage(a.errors[g]));a.errorMessages=c};this.getErrorMessage=function(a){return m&&m[a]?m[a]:a};this.addError=function(c){a.errors.push(c)};this.clearErrors=function(){a.errors.length=0}}]);d.directive("lpField",function(){return{restrict:"EA",replace:!0,transclude:!0,
templateUrl:a+"lp-field.html",scope:{label:"@",tip:"@",help:"@",actionLabel:"@",action:"@"},controller:"FieldController"}});d.directive("lpEnterPressed",function(){return{restrict:"A",scope:!0,link:function(a,c,g){c.on("keydown",function(c){13===c.which&&(c.preventDefault(),a.$apply(function(){a.save(a.model.value)}))})}}});d.directive("lpControl",["$http","$timeout","$sce","newlinesFilter",function(b,c,g,h){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:a+"lp-control.html",scope:{label:"@",
tip:"@",validate:"\x26",loading:"\x3d"},require:["^lpField","?ngModel"],link:function(a,b,d,k){var p=k[1],q=k[0];a.keepEdittingOpen=!1;a.readonly=e.isDefined(d.readonly)?a.$parent.$eval(d.readonly):!1;if(p){var s=e.isDefined(d.required)?a.$parent.$eval(d.required):!0;d.$observe("type",function(c){a.type=c||"text";if("select"===a.type||"checkbox"===a.type||"select-multiple"===a.type||"radio"===a.type)a.options=a.$parent.$eval(d.options)});a.model={};var r;a.edditing=!1;a.setEditMode=function(g){a.editting=
g;a.editting?(a.model.value=e.copy(p.$modelValue),a.keepEdittingOpen||c(function(){r||(r="select"===a.type||"select-multiple"===a.type?b.find("select"):"textarea"===a.type?b.find("textarea"):b.find("input"));r.focus()})):q.clearErrors()};240>=b.width()&&(a.keepEdittingOpen=!0,a.setEditMode(!0));a.save=function(c){q.clearErrors();c=f.escapeHtml(c);var b=!0,h=c.length;if(s&&1>h)return q.addError("required"),!1;b&&d.validate&&(b=a.validate({value:c}),"string"===typeof b&&(q.addError(b),b=!1));b&&(a.keepEdittingOpen||
a.setEditMode(!1),p.$setViewValue(c),a.model.text=g.trustAsHtml(a.getText(c)))};a.isChecked=function(a){return-1<p.$modelValue.indexOf(a)};a.toggleCheck=function(c){var g=a.model.value.indexOf(c);-1<g?a.model.value.splice(g,1):a.model.value.push(c)};a.getText=function(c){var g=a.options,b,d;if("textarea"===a.type)c=h(c);else if("select"===a.type||"radio"===a.type)for(b=0,d=g.length;b<d;b++){if(g[b].value.toString()===c.toString())return g[b].text}else if("checkbox"===a.type||"select-multiple"===a.type){var e=
[];b=0;for(d=g.length;b<d;b++)-1<c.indexOf(g[b].value)&&e.push(g[b].text);return e.join(", ")}return c.toString().replace("\x3cbr/\x3e","\n")};p.$render=function(){a.model.text=g.trustAsHtml(a.getText(p.$modelValue));a.model.value=a.getText(p.$modelValue)}}else a.readonly=!0}}}]);d.filter("newlines",function(){return function(a){return e.isString(a)?a.replace(/\n/g,"\x3cbr/\x3e"):a}})});define("launchpad/lib/ui/lp-radio",["angular","launchpad/lib/common/util","launchpad/lib/ui/ui-module"],function(e,f,d){var a=f.getContextPath()+"/static/launchpad/lib/ui/templates/";d.factory("optionsParser",["$parse",function(a){var c=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(g){var h=g.match(c);if(!h)throw Error("Expected dropdown specification in form of '_modelValue_ (as _label_)? (group by _groupname_)? for _item_ in _collection_' but got '"+
g+"'.");g=h[4]||h[6];return{displayFn:a(h[2]||h[1]),valueName:g,keyName:h[5],groupByFn:a(h[3]||""),valueFn:a(h[2]?h[1]:g),valuesFn:a(h[5])}}}}]).controller("RadioController",["$scope","$attrs","optionsParser",function(a,c,g){var h=this,d=g.parse(c.ngOptions);a.model={};a.inline=e.isDefined(c.inline)?a.$parent.$eval(c.inline):!1;a.templateUrl=c.templateUrl;this.onOptionsChange=function(c){var g={},h=[];e.forEach(c,function(c){g[d.valueName]=c;c={label:d.displayFn(a,g),value:d.valueFn(a,g),icon:c.icon||
void 0,example:c.example||void 0};h.push(c)});a.options=h;this.render()};this.render=function(){a.model.value=n.$modelValue};this.selectSingle=function(a){n.$setViewValue(a.value)};a.select=function(c,g){g.disabled?a.prevent(c):h.selectSingle(g)};a.prevent=function(a){a.preventDefault();a.stopPropagation()};var n;this.init=function(c){n=c;n.$render=function(){h.render()};a.model.value=n.$modelValue};a.$parent.$watch(d.valuesFn,function(a){h.onOptionsChange(a)},!0)}]).directive("lpRadio",function(){return{require:["lpRadio",
"^ngModel"],restrict:"EA",replace:!0,scope:{},templateUrl:a+"radio/radio.html",controller:"RadioController",link:function(a,c,g,h){(a=h[1])&&h[0].init(a)}}})});/*
 Backbase B.V, 2013

 @example
 //Changing the inner html of a widget based on its size:

 //amd define imports the responsive module
 define("launchpad/lib/responsive", function(responsive) {

   //Enable a dom element (the widget body) as responsive
   var responsive = Responsive.enable(widget.body);

   //chain a set of rules
   responsive
     .rule({
       "max-width": 100,
       then: function(e) {
         widget.body.innerHTML("&lt;p&gt;Small widget&lt;/p>");
       }
     }).rule({
       "min-width": 101,
       "max-width" 500,
       then: function(e) {
         widget.body.innerHTML("&lt;p&gt;Medium widget&lt;/p&gt;");
       }
    }).rule({
       "min-width": 501  ,
       then: function(e) {
         widget.body.innerHTML("&lt;p&gt;Large widget&lt;/p&gt;");
       }
   });

 });
*/
(function(e,f){var d=function(a){this.element=a;this.$element=f(a);this.checkSizeInterval=150;this.rules=[];this.lastWidth=0;this.forceCheck=!1};d.prototype.stop=function(){e.clearTimeout(this.checkSizeTimeout);return this};d.prototype.start=function(){this._checkForSizeChange();return this};d.prototype.rule=function(a){"min-width"in a&&(a.minWidth=a["min-width"]);"max-width"in a&&(a.maxWidth=a["max-width"]);a.minWidth=parseInt(a.minWidth,10);a.maxWidth=parseInt(a.maxWidth,10);if("number"===typeof a.minWidth||
"number"===typeof a.maxWidth)a.active=!1,this.rules.push(a),this.forceCheck=!0;this._hasSizeChanged();return this};d.prototype.any=function(a){this.anyFn=a;return this};d.prototype.resize=function(a){this.resize=a;return this};d.prototype._checkForSizeChange=function(){var a=this;this.checkSizeTimeout=e.setTimeout(function(){a._hasSizeChanged();a._checkForSizeChange()},this.checkSizeInterval);return this};d.prototype._hasSizeChanged=function(){var a=this._isWidthChanged();0<a&&(this._checkRules(a),
"function"===typeof this.resize&&this.resize.call(this.element,{width:a}));return this};d.prototype._isWidthChanged=function(){var a=this.$element.width();return a!==this.lastWidth&&this.$element.is(":visible")||this.forceCheck?this.lastWidth=a:0};d.prototype._checkRules=function(a){var b,c,g=this.rules.length;for(b=0;b<g;b++){c=this.rules[b];var h=(!c.minWidth||c.minWidth&&a>=c.minWidth)&&(!c.maxWidth||c.maxWidth&&a<=c.maxWidth);if(h&&!c.active){var d={width:a};"function"===typeof c.then&&c.then.call(this.element,
d);"function"===typeof this.anyFn&&this.anyFn.call(this.element,d)}c.active=h}};d.enable=function(a){a=new d(a);a.start();return a};e.lp=e.lp||{};e.lp.responsive=d})(window,jQuery);define("launchpad/lib/ui/smartsuggest-engine",["launchpad/lib/ui/ui-module","launchpad/lib/common/util","launchpad/support/date"],function(e,f){var d=/^(.+)\sto\s?(.*)$/i,a=/[\-+]?([0-9]*\.)?[0-9]+/,b=/[\.+\s+\-]/g,c=function(a){this.options=a||{};this.suggesters=[]};c.prototype.getSuggestions=function(a){var b=this;a=f.stripHtml(a);var l=[];c.util.isRange(a)?l=a.match(d):l[1]=a;var e=[];this.suggesters.forEach(function(a){var g=a.suggest.call({data:a.data||null,type:a.type,options:a.options||{}},
l[1],l[2]);b.options.showTitles&&0<g.length&&(e=e.concat({type:c.types.TITLE,title:a.type}));e=e.concat(g)});return e};c.prototype.addSuggester=function(a){for(var c=!1,b=0;b<this.suggesters.length&&!c;b++)this.suggesters[b].type===a.type&&(this.suggesters[b]=a,c=!0);c||this.suggesters.push(a);return this};c.prototype.clearSuggesters=function(){this.suggesters=[]};c.types={DATE:"date",AMOUNT:"amount",ACCOUNT:"account",CONTACT:"contact",CATEGORY:"category",GENERAL:"general",TITLE:"title"};c.builtIn=
{};c.builtIn.getDateSuggestions=function(a,b){var d=[],e=c.util.parseDate(a),f=c.util.parseDate(b);e&&!f&&(f=c.util.makeToDateInclusive(a,e),d.push({terms:[a,b],type:this.type||c.types.DATE,displayAsRange:!1,search:{from:e,to:f}}));var k=!1;e&&(!b||f&&e.getTime()>f.getTime()?(f=c.util.predictToDate(a,e),k=!0):f=c.util.makeToDateInclusive(b,f),e.getTime()<f.getTime()&&d.push({terms:[a,b],type:this.type,displayAsRange:!0,predicted:k,search:{from:e,to:f}}));return d};c.builtIn.getAmountSuggestions=function(a,
b){var d=[],e=c.util.parseAmount(a),f=c.util.parseAmount(b);if(e&&!f){var k=c.util.makeNumberFuzzy(e);d.push({terms:[a,b],type:this.type||c.types.AMOUNT,displayAsRange:!1,search:{original:e,from:k.from,to:k.to}})}k=!1;if(e){if(!b||f&&e>f)f=c.util.predictToAmount(e),k=!0;e<f&&d.push({terms:[a,b],type:this.type,displayAsRange:!0,predicted:k,search:{from:e,to:f}})}return d};c.builtIn.getAccountSuggestions=function(a){var h=this,d=[];if(2>a.length&&!this.options.showAll)return d;(this.data||[]).forEach(function(e){var f=
e.name.match(RegExp("("+a+")","ig")),k=!1;f||(k=a.replace(b,""),k=(e.bban+"").match(RegExp("^("+k+")","i")));(2>a.length&&h.options.showAll||f||k)&&d.push({terms:[a],type:h.type||c.types.ACCOUNT,matchType:k?"number":"name",account:e,search:{account:e.id}})});return d};c.builtIn.getContactSuggestions=function(a){var h=this,d=[];if(2>a.length&&!this.options.showAll)return d;(this.data||[]).forEach(function(e){var f=e.name.match(RegExp("("+a+")","ig")),k=!1;f||(k=a.replace(b,""),k=(e.account+"").match(RegExp("^("+
k+")","i")));(2>a.length&&h.options.showAll||f||k)&&d.push({terms:[a],type:h.type||c.types.CONTACT,matchType:k?"account":"name",contact:e,search:{contact:e.account}})});return d};c.builtIn.getCategorySuggestions=function(a){};c.builtIn.getGeneralSuggestions=function(a,b){var d=[],e=b?a+" to "+b:a;2<=e.length&&(c.util.isRange(e)||d.push({terms:[e],type:this.type||c.types.GENERAL,search:{query:e}}));return d};c.util={};c.util.isRange=function(a){return d.test(a)};c.util.parseAmount=function(c){var b=
null;c&&(c=c.match(a))&&c.length&&(b=parseFloat(c[0]));return isNaN(b)?null:Math.abs(b)};c.util.isYearDate=function(a){a=c.util.parseAmount(a);return!isNaN(a)&&1900<a&&2100>a?a:!1};c.util.parseDate=function(a){var b,d=c.util.isYearDate(a),e=parseFloat(a);if(d)b=new Date(d,0,1);else if(isNaN(e)||31>=e)b=a?Date.parse(a):null;return b};c.util.getDateTermSpecificity=function(a){var b=Date.CultureInfo.regexPatterns,d=c.util.isYearDate(a);a=!d&&(a.match(b.jan)||a.match(b.feb)||a.match(b.mar)||a.match(b.apr)||
a.match(b.may)||a.match(b.jun)||a.match(b.jul)||a.match(b.aug)||a.match(b.sep)||a.match(b.oct)||a.match(b.nov)||null!==a.match(b.dec));return d?"year":a?"month":"day"};c.util.makeToDateInclusive=function(a,b){var d=c.util.getDateTermSpecificity(a),d="year"===d?{years:1}:"month"===d?{months:1}:{days:1};return b.clone().add(d).addMilliseconds(-1)};c.util.predictToDate=function(a,b){var d=c.util.getDateTermSpecificity(a),d="year"===d?{years:1}:"month"===d?{months:1}:{weeks:1};return b.clone().add(d).addMilliseconds(-1)};
c.util.makeNumberFuzzy=function(a){var c=a/10/2;return{from:Math.floor(a-c),to:Math.ceil(a+c)}};c.util.predictToAmount=function(a){return Math.ceil(a+a/2)};e.factory("SmartSuggestEngine",function(){return c});return c});define("launchpad/lib/ui/smartsuggest-formatter",["launchpad/lib/ui/ui-module","launchpad/lib/common/util","launchpad/lib/i18n"],function(e,f){e.factory("SmartSuggestFormatter",["SmartSuggestEngine","i18nUtils",function(d,a){var b=function(a){this.locale=a.locale||null;this.currency=a.currency||null};b.prototype.format=function(a){var b=[];a.displayAsRange?(b[0]=this.formatValue(a.search.from,a.type),b[1]=this.formatValue(a.search.to,a.type)):a.type===d.types.DATE?b[0]=this.formatValue(a.search.from,
a.type):a.type===d.types.AMOUNT?b[0]=this.formatValue(a.search.original,a.type):a.type===d.types.CONTACT?(b[0]=this.formatValue(a.contact.name,a.type),b[1]=this.formatValue(a.contact.account,a.type)):a.type===d.types.ACCOUNT?(b[0]=this.formatValue(a.account.name,a.type),b[1]=this.formatValue(a.account.iban,a.type),b[2]=this.formatAmount(a.account.balance,a.account.currency)):b[0]=a.type===d.types.TITLE?this.formatValue(a.title,a.type):this.formatValue(a.search.query,a.type);return b=b.map(function(a){return f.stripHtml(a)})};
b.prototype.formatValue=function(a,b){var e;switch(b){case d.types.DATE:e=this.formatDate(a);break;case d.types.AMOUNT:e=this.formatAmount(a);break;case d.types.CONTACT:e=this.formatGeneral(a);break;case d.types.CATEGORY:break;case d.types.TITLE:e=this.formatTitle(a);break;default:e=this.formatGeneral(a)}return e};b.prototype.formatDate=function(c){return a.formatDate(this.currency,c,{format:"dd MMM yyyy"})};b.prototype.formatAmount=function(c,b){return a.formatAmount("en-US",c,b||this.currency)};
b.prototype.formatAccount=function(a){return a.name};b.prototype.formatGeneral=function(a){return a};b.prototype.formatTitle=function(a){switch(a){case d.types.ACCOUNT:return"My accounts";case d.types.CONTACT:return"Address Book"}return a};b.prototype.getTypeLabel=function(a){return a.type===d.types.DATE&&a.displayAsRange?"Between: ":a.type===d.types.AMOUNT&&a.displayAsRange?"Between: ":a.type===d.types.DATE?"On: ":a.type===d.types.AMOUNT?"Of: ":a.type===d.types.CONTACT?"Contact: ":a.type===d.types.ACCOUNT?
"Account: ":a.type===d.types.TITLE?"":"Description: "};b.prototype.getSuggestionIcon=function(a){return a.type===d.types.DATE?"lp-icon lp-icon-medium lp-icon-calendar":a.type===d.types.AMOUNT?"lp-icon lp-icon-medium lp-icon-transactions-v1":"lp-icon lp-icon-medium lp-icon-search2"};b.prototype.getSuggestionHtml=function(a){var b="lp-smartsuggest-"+a.type,e=this.format(a),f="\x3cdiv class\x3d'lp-smartsuggest-result clearfix "+b+"'\x3e",n=a.predicted?"lp-smartsuggest-predicted":"";if(a.type!==d.types.ACCOUNT&&
a.type!==d.types.TITLE){f+="\x3cspan class\x3d'lp-smartsuggest-icon'\x3e";if(a.type===d.types.CONTACT&&"string"===typeof a.contact.photoUrl)f+="\x3cimg src\x3d'"+decodeURIComponent(a.contact.photoUrl)+"' width\x3d35 height\x3d35\x3e";else if(a.type===d.types.CONTACT&&a.contact.initials)f+="\x3cspan class\x3d'lp-smartsuggest-intials'\x3e"+a.contact.initials+"\x3c/span\x3e";else var m=this.getSuggestionIcon(a),f=f+("\x3ci class\x3d'"+m+"'\x3e\x3c/i\x3e");f+="\x3c/span\x3e"}f+="\x3cdiv class\x3d'lp-smartsuggest-valuegroup'\x3e";
a.contact||a.account||(f+="\x3cspan class\x3d'lp-smartsuggest-category'\x3e"+this.getTypeLabel(a)+"\x3c/span\x3e");a.contact?(f+="\x3cspan class\x3d'lp-smartsuggest-value "+b+"-value'\x3e"+e[0]+"\x3c/span\x3e\x3cbr\x3e",f+="\x3cspan class\x3d'"+b+"-value'\x3e"+e[1]+"\x3c/span\x3e"):a.account?(f+="\x3cdiv class\x3d'lp-smartsuggest-value "+b+"-value'\x3e"+e[0]+"\x3c/div\x3e",f+="\x3cdiv\x3e\x3csmall class\x3d'"+b+"-value pull-left muted'\x3e"+e[1]+"\x3c/small\x3e",f+="\x3cspan class\x3d'"+b+"-value pull-right'\x3e"+
e[2]+"\x3c/span\x3e\x3c/div\x3e"):2===e.length?(f+="\x3cspan class\x3d'lp-smartsuggest-from lp-smartsuggest-value "+b+"-value'\x3e"+e[0]+"\x3c/span\x3e to ",f+="\x3cspan class\x3d'lp-smartsuggest-to lp-smartsuggest-value "+b+"-value "+n+"'\x3e"+e[1]+"\x3c/span\x3e"):f+="\x3cspan class\x3d'lp-smartsuggest-value "+b+"-value'\x3e"+e[0]+"\x3c/span\x3e";return f+="\x3c/div\x3e\x3c/div\x3e"};return b}])});define("launchpad/lib/ui/widget-modal",["angular","jquery","launchpad/lib/common/util","launchpad/lib/ui/ui-module","launchpad/support/angular/angular-ui-bootstrap"],function(e,f,d,a){var b=d.getContextPath()+"/static/launchpad/lib/ui/templates/",c=function(a){var b=function(a){if(be&&be.ice&&be.ice.controller){a.iceConfig=be.ice.config;var b=String(a.getPreference("templateUrl"));b.match(/\/image\.html$/)&&(b=b.replace(/\/image\.html$/,"/image-editorial.html"));return be.ice.controller.edit(a,b).then(function(a){return a})}};
if(bd&&"true"===bd.designMode)return b(a)};a.directive("modalDialog",["widget",function(a){return{restrict:"AE",scope:{show:"\x3d"},replace:!0,transclude:!0,templateUrl:b+"lp-modal.html",link:function(b,d,e){b.closable=e.closable?b.$parent.$eval(e.closable):!0;b.dialogStyle={};e.width&&(b.dialogStyle.width=e.width);e.height&&(b.dialogStyle.height=e.height);var m=function(){f(d).find(".modal-close-button").on("click",function(){b.hideModal();b.$apply()})};e.isice&&a.getPreference("templateUrl")&&((e=
c(a))?e.then(function(a){f(d).find(".bp-g-include").html(a);f(d).find("[contenteditable]").on("keypress keydown",function(a){a.stopPropagation()});m()}):m());b.hideModal=function(){b.show=!1};var k=function(a){27===a.keyCode&&(b.hideModal(),b.$apply())};b.$watch("show",function(a){a?f(document).bind("keydown.modalDialog",k):f(document).unbind("keydown.modalDialog",k)})}}}])});define("launchpad/lib/ui/ui-module launchpad/lib/ui/number-input launchpad/lib/ui/focus launchpad/lib/ui/aria launchpad/lib/ui/responsive-directive launchpad/lib/ui/smartsuggest-engine launchpad/lib/ui/smartsuggest-formatter launchpad/lib/ui/lp-field launchpad/lib/ui/lp-radio launchpad/lib/ui/widget-modal launchpad/lib/ui/input-overflow".split(" "),function(e){return e});
//# sourceMappingURL=ui.js.map